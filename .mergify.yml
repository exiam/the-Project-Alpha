pull_request_rules:
  - name: automatic merge on CI success and review
    conditions:
      - '#approved-reviews-by>=1'
      - -closed
      - -conflict
      - -locked
      - -merged
      - base=master
      - label!=WIP
    actions:
      merge:
        method: merge
  - name: automatic delete head branch
    conditions:
      - merged
      - label!=branch preserve
      - -locked
    actions:
      delete_head_branch: {}
  - name: automatic merge for Dependabot pull requests
    conditions:
      - author=dependabot-preview[bot]
      - status-success=test_all
      - status-success=now
    actions:
      merge:
        method: merge
